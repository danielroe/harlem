{"version":3,"file":"index.30450ab7.js","sources":["../../vite/modulepreload-polyfill","../../../../../../../../images/logo-192.svg","../../plugin-vue:export-helper","../../src/components/core/choice.vue","../../src/utilities/number/clamp.ts","../../src/utilities/number/scale.ts","../../src/utilities/time/get-rotation.ts","../../src/components/clocks/analogue-clock.vue","../../src/components/clocks/digital-clock.vue","../../src/components/core/modal.vue","../../src/utilities/string/is-equal.ts","../../src/utilities/time/get-timezone-label.ts","../../src/stores/app/constants.ts","../../src/stores/app/state.ts","../../../packages/task/dist/esm/index.js","../../../packages/utilities/dist/esm/index.js","../../../core/dist/esm/index.js","../../../extensions/action/dist/esm/index.js","../../../extensions/compose/dist/esm/index.js","../../../extensions/storage/dist/esm/index.js","../../src/stores/app/store.ts","../../src/stores/app/mutations.ts","../../src/stores/app/getters.ts","../../vite/preload-helper","../../src/stores/app/actions.ts","../../src/stores/app/index.ts","../../src/components/modals/add-clock.vue","../../src/app.vue","../../../plugins/devtools/dist/esm/index.js","../../src/index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","export default \"/harlem/images/logo-192.svg\"","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n    <label class=\"choice\" :class=\"choiceClass\" :for=\"id\">\n        <input class=\"choice__input\"\n            type=\"radio\"\n            name=\"clock-type\"\n            :id=\"id\"\n            :value=\"value\"\n            v-model=\"model\">\n        <slot></slot>\n    </label>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n    computed\n} from 'vue';\n\nconst props = defineProps({\n\n    id: {\n        type: String,\n        default: `choice-${Math.round(Math.random() * 100000)}`\n    },\n\n    modelValue: {\n        type: null\n    },\n\n    value: {\n        type: null\n    }\n\n});\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst model = computed({\n    get: () => props.modelValue,\n    set: value => emit('update:modelValue', value)\n});\n\nconst choiceClass = computed(() => ({\n    'choice--checked': props.modelValue === props.value\n}));\n</script>\n\n<style lang=\"scss\">\n\n    .choice {\n        display: inline-block;\n        padding: 0.75rem 2rem;\n        font-weight: var(--font__weight--semi-bold);\n        text-align: center;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        border-radius: 0.5rem;\n        cursor: pointer;\n        transition: color var(--animation__timing) var(--animation__easing),\n                    background var(--animation__timing) var(--animation__easing);\n\n        &:not(.choice--checked):hover {\n            background-color: var(--foreground__colour--dark);\n        }\n    }\n\n    .choice--checked {\n        color: var(--font__colour--inverse);\n        background-color: var(--colour__primary);\n    }\n\n    .choice__input {\n        display: none;\n    }\n\n</style>","export default function clamp(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, value));\n}","import clamp from './clamp';\n\nexport default function scale(\n    domain: [min: number, max: number],\n    range: [min: number, max: number],\n) {\n    const [\n        domainMin,\n        domainMax,\n    ] = domain;\n\n    const [\n        rangeMin,\n        rangeMax,\n    ] = range;\n\n    const domainLength = domainMax - domainMin;\n    const rangeLength = rangeMax - rangeMin;\n\n    return (value: number, clampValue?: boolean) => {\n        const output = (value - domainMin) * rangeLength / domainLength + rangeMin;\n        return clampValue ? clamp(output, rangeMin, rangeMax) : output;\n    };\n}","import scale from '../number/scale';\n\nconst hourScale = scale([0, 12], [0, 360]);\nconst minSecScale = scale([0, 60], [0, 360]);\nconst relativeMinSecScale = scale([0, 60], [0, 1]);\n\nexport function getHourRotation(hours: number, minutes: number = 0) {\n    return hourScale(hours + relativeMinSecScale(minutes));\n}\n\nexport function getMinuteRotation(minutes: number, seconds: number = 0) {\n    return minSecScale(minutes + relativeMinSecScale(seconds));\n}\n\nexport function getSecondRotation(seconds: number) {\n    return minSecScale(seconds);\n}","<template>\n    <div class=\"analogue-clock\">\n        <div class=\"analogue-clock__face\">\n            <div class=\"analogue-clock__hand analogue-clock__hand--hour\" :style=\"handStyles.hour\"></div>\n            <div class=\"analogue-clock__hand analogue-clock__hand--minute\" :style=\"handStyles.minute\"></div>\n            <div class=\"analogue-clock__hand analogue-clock__hand--second\" :style=\"handStyles.second\"></div>\n            <div class=\"analogue-clock__hand-spindle\"></div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n    computed,\n} from 'vue';\n\nimport {\n    getHourRotation,\n    getMinuteRotation,\n    getSecondRotation\n} from '../../utilities/time/get-rotation';\n\nconst props = defineProps({\n\n    time: {\n        type: Date,\n        default: () => new Date()\n    },\n\n});\n\nconst handStyles = computed(() => {\n    const hours = props.time.getHours() % 12;\n    const minutes = props.time.getMinutes();\n    const seconds = props.time.getSeconds();\n\n    return {\n        hour: {\n            transform: `translateX(var(--clock__hand-offset)) rotate(${getHourRotation(hours, minutes)}deg)`\n        },\n        minute: {\n            transform: `translateX(var(--clock__hand-offset)) rotate(${getMinuteRotation(minutes, seconds)}deg)`\n        },\n        second: {\n            transform: `translateX(var(--clock__hand-offset)) rotate(${getSecondRotation(seconds)}deg)`\n        }\n    };\n});\n</script>\n\n<style lang=\"scss\">\n\n    .analogue-clock {\n        --clock__hand-width: 2px;\n        \n        width: 100%;\n        aspect-ratio: 1 / 1;\n        padding: 0.75rem;\n        background-color: var(--background__colour--inverse);\n        border-radius: 50%;\n    }\n\n    .analogue-clock__face {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        background: transparent url(../../assets/images/clock.svg) no-repeat center;\n    }\n\n    .analogue-clock__hand,\n    .analogue-clock__hand-spindle {\n        position: absolute;\n        left: 50%;\n    }\n\n    .analogue-clock__hand {\n        --clock__hand-offset: calc(var(--clock__hand-width) / -2);\n\n        top: 0;\n        width: var(--clock__hand-width);\n        height: 100%;\n        transform-origin: 50% 50%;\n        transform: translateX(var(--clock__hand-offset));\n\n        &::after {\n            position: absolute;\n            display: block;\n            content: '';\n            top: 15%;\n            left: 0;\n            width: 100%;\n            height: 35%;\n            border-radius: var(--clock__hand-width);\n            background-color: rgb(200, 200, 200);\n        }\n    }\n\n    .analogue-clock__hand-spindle {\n        top: 50%;\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        background-color: var(--colour__primary);\n        transform: translate(-50%, -50%);\n    }\n\n    .analogue-clock__hand--hour {\n        --clock__hand-width: 3px;\n\n        &::after {\n            top: 20%;\n            height: 30%;\n        }\n    }\n\n    .analogue-clock__hand--second {\n        transition: transform 250ms cubic-bezier(0.4, 2.08, 0.55, 0.44);\n\n        &::after {\n            height: 45%;\n            background-color: var(--colour__primary);\n        }\n    }\n\n</style>","<template>\n    <div class=\"digital-clock\">\n        <span class=\"digital-clock__time\">{{ labels.time }}</span><span class=\"digital-clock__phase\">{{ labels.phase }}</span>    \n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n    computed\n} from 'vue';\n\nimport {\n    format,\n} from 'date-fns-tz';\n\nconst props = defineProps({\n\n    time: {\n        type: Date,\n        default: () => new Date()\n    },\n\n    timezone: {\n        type: String\n    }\n\n});\n\nconst labels = computed(() => ({\n    time: format(props.time, 'h:mm', {\n        timeZone: props.timezone\n    }),\n    phase: format(props.time, 'a', {\n        timeZone: props.timezone\n    })\n}));\n</script>\n\n<style lang=\"scss\">\n\n    @font-face {\n        font-family: 'Digital';\n        src: url('../../assets/fonts/digital/digital.ttf') format('truetype');\n    }\n\n    .digital-clock {\n        font-family: 'Digital', 'Open Sans';\n        padding: 1rem;\n        color: rgb(200, 200, 200);\n        background-color: var(--background__colour--inverse);\n        border-radius: 0.5rem;\n    }\n\n    .digital-clock__time {\n        font-size: 2.25em;\n    }\n\n    .digital-clock__phase {\n        margin-left: 0.5em;\n        color: #76D1A7;\n        font-size: 1.25em;\n    }\n\n</style>","<template>\n    <teleport to=\"body\">\n        <transition-group name=\"modal\">\n            <div class=\"modal\" layout=\"row center-center\" v-bind=\"$attrs\" v-if=\"isShowing\">\n                <div class=\"modal__content\" self=\"size-small\">\n                    <div class=\"modal__header\" v-if=\"$slots.header\">\n                        <slot name=\"header\" v-bind=\"{ open, close }\"></slot>\n                    </div>\n                    <div class=\"modal__body\">\n                        <slot v-bind=\"{ open, close }\"></slot>\n                    </div>\n                    <div class=\"modal__footer\" v-if=\"$slots.footer\">\n                        <slot name=\"footer\" v-bind=\"{ open, close }\"></slot>\n                    </div>\n                </div>\n            </div>\n        </transition-group>\n    </teleport>\n</template>\n\n<script lang=\"ts\">\nexport default {\n    inheritAttrs: false\n};\n</script>\n\n<script lang=\"ts\" setup>\nimport {\n    ref,\n} from 'vue';\n\nconst isShowing = ref(false);\n\nconst open = () => isShowing.value = true;\nconst close = () => isShowing.value = false;\n\ndefineExpose({\n    open,\n    close\n});\n</script>\n\n<style lang=\"scss\">\n\n    .modal {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        padding: 2rem;\n        background-color: var(--background__colour--shade);\n        z-index: 1000;\n    }\n\n    .modal__content {\n        max-height: 100%;\n        display: grid;\n        padding: 1.5rem;\n        grid-template-rows: auto 1fr auto;\n        background-color: var(--background__colour);\n        border-radius: 0.5rem;\n        overflow: hidden;\n    }\n\n    .modal__header {\n        padding: 0 0 1.5rem 0;\n    }\n    \n    .modal__body {\n        overflow-y: auto;\n    }\n    \n    .modal__footer {\n        padding: 1.5rem 0 0 0;\n    }\n\n    .modal-enter-from,\n    .modal-leave-to {\n        opacity: 0;\n\n        & .modal__content {\n            transform: scale(0);\n        }\n    }\n\n    .modal-enter-active,\n    .modal-leave-active {\n        transition: opacity var(--animation__timing) var(--animation__easing);\n\n        & .modal__content {\n            transition: transform var(--animation__timing) var(--animation__easing);\n        }\n    }\n\n</style>","export default function isEqual(a: string, b: string): boolean {\n    return a.toLocaleLowerCase().includes(b.toLocaleLowerCase());\n}","export default function getTimezoneLabel(timezone: string): string {\n    return (timezone.split('/').pop() ?? '')?.replace('_', ' ') ?? timezone;\n}","export const NAME = 'app';\n\nexport const GETTERS = {\n    timezones: 'timezones',\n    clocks: 'clocks',\n};\n\nexport const MUTATIONS = {\n    setTheme: 'set-theme',\n    updateTime: 'update-time',\n    setClockType: 'set-clock-type',\n    addClocks: 'add-clocks',\n    removeClock: 'remove-clock',\n};\n\nexport const ACTIONS = {\n    loadTimezones: 'load-timezones',\n};","import type {\n    State,\n} from './types';\n\nimport {\n    NAME,\n} from './constants';\n\nconst STATE = {\n    version: 1.0,\n    theme: 'light',\n    themes: [\n        {\n            label: 'Light',\n            value: 'light',\n        },\n        {\n            label: 'Dark',\n            value: 'dark',\n        },\n    ],\n    time: new Date(),\n    timezones: [],\n    clockType: 'analogue',\n    clockTypes: [\n        {\n            label: 'Analogue',\n            value: 'analogue',\n        },\n        {\n            label: 'Digital',\n            value: 'digital',\n        },\n    ],\n    clocks: [\n        'Australia/Brisbane',\n        'America/New_York',\n        'Europe/London',\n        'Europe/Paris',\n        'Asia/Tokyo',\n        'Australia/Sydney',\n        'Asia/Hong_Kong',\n        'Asia/Dubai',\n    ],\n} as State;\n\nexport default function getState(): State {\n    const storageKey = `harlem:${NAME}`;\n    const storedValue = localStorage.getItem(storageKey);\n\n    if (!storedValue) {\n        return STATE;\n    }\n\n    try {\n        const storedState = JSON.parse(storedValue) as State;\n\n        if (storedState.version !== STATE.version) {\n            localStorage.removeItem(storageKey);\n            return STATE;\n        }\n\n        return {\n            ...STATE,\n            ...storedState,\n        };\n    } catch {\n        return STATE;\n    }\n}","// src/index.ts\nfunction safeRun(bodyInvokee, finallyInvokee) {\n  return (...args) => {\n    try {\n      return bodyInvokee(...args);\n    } finally {\n      finallyInvokee();\n    }\n  };\n}\nvar Task = class extends Promise {\n  constructor(executor, controller = new AbortController()) {\n    if (controller.signal.aborted) {\n      throw new Error(\"Cannot attach task to an already aborted controller\");\n    }\n    const listeners = /* @__PURE__ */ new Set();\n    const addListener = (listener) => {\n      listeners.add(listener);\n      controller.signal.addEventListener(\"abort\", listener);\n    };\n    const removeListener = (listener) => {\n      listeners.delete(listener);\n      controller.signal.removeEventListener(\"abort\", listener);\n    };\n    const cleanup = () => {\n      if (listeners.size > 0) {\n        listeners.forEach(removeListener);\n      }\n    };\n    super((_resolve, _reject) => {\n      const resolve = safeRun(_resolve, cleanup);\n      const reject = safeRun(_reject, cleanup);\n      const onAbort = (callback) => {\n        const listener = safeRun(() => callback(this.abortReason), () => removeListener(listener));\n        addListener(listener);\n      };\n      executor(resolve, reject, controller, onAbort);\n    });\n    this.controller = controller;\n  }\n  get signal() {\n    return this.controller.signal;\n  }\n  get hasAborted() {\n    return this.signal.aborted;\n  }\n  abort(reason) {\n    this.abortReason = reason;\n    this.controller.abort();\n    return this;\n  }\n};\nexport {\n  Task as default\n};\n//# sourceMappingURL=index.js.map","// src/type/get-type.ts\nfunction getType(input) {\n  return Object.prototype.toString.call(input).slice(8, -1).toLowerCase();\n}\n\n// src/object/clone.ts\nimport {\n  unref\n} from \"vue\";\nfunction cloneIdentity(input) {\n  return input;\n}\nfunction cloneBasic(input) {\n  return new input.constructor(input);\n}\nfunction cloneRegex(input) {\n  const clonedRegex = new RegExp(input.source);\n  clonedRegex.lastIndex = input.lastIndex;\n  return clonedRegex;\n}\nfunction cloneSymbol(input) {\n  return Object(Symbol.prototype.valueOf.call(input));\n}\nfunction cloneObject(input) {\n  const output = {};\n  for (const key in input) {\n    output[key] = clone(input[key]);\n  }\n  return output;\n}\nfunction cloneArray(input) {\n  return input.map(clone);\n}\nfunction cloneSet(input) {\n  const output = /* @__PURE__ */ new Set();\n  input.forEach((value) => {\n    output.add(clone(value));\n  });\n  return output;\n}\nfunction cloneMap(input) {\n  const output = /* @__PURE__ */ new Map();\n  input.forEach((value, key) => {\n    output.set(key, clone(value));\n  });\n  return output;\n}\nvar CLONE_MAP = {\n  default: cloneIdentity,\n  null: cloneIdentity,\n  undefined: cloneIdentity,\n  boolean: cloneBasic,\n  number: cloneBasic,\n  string: cloneBasic,\n  error: cloneBasic,\n  date: cloneBasic,\n  regexp: cloneRegex,\n  function: cloneIdentity,\n  symbol: cloneSymbol,\n  array: cloneArray,\n  object: cloneObject,\n  map: cloneMap,\n  set: cloneSet\n};\nfunction clone(value) {\n  const input = unref(value);\n  if (typeof input !== \"object\" || input === null) {\n    return input;\n  }\n  const type = getType(input);\n  const cloner = CLONE_MAP[type] || CLONE_MAP.default;\n  return cloner(input);\n}\n\n// src/object/lock.ts\nfunction lock(input, exclusions) {\n  return new Proxy(input, {\n    get(target, prop) {\n      if (exclusions.includes(prop)) {\n        throw new Error(`Access to property '${prop}' is denied`);\n      }\n      const value = target[prop];\n      if (typeof value === \"function\") {\n        return (...args) => Reflect.apply(value, target, args);\n      }\n      return value;\n    }\n  });\n}\n\n// src/object/overwrite.ts\nfunction overwrite(target, source, ignorePattern) {\n  if (typeof target !== \"object\" || typeof source !== \"object\") {\n    return target;\n  }\n  for (const prop in target) {\n    if (ignorePattern && ignorePattern.test(prop)) {\n      delete source[prop];\n      continue;\n    }\n    delete target[prop];\n  }\n  return Object.assign(target, source);\n}\n\n// src/object/omit.ts\nfunction omit(value, pattern) {\n  const output = {};\n  for (const key in value) {\n    if (!pattern.test(key)) {\n      output[key] = value[key];\n    }\n  }\n  return output;\n}\n\n// src/type/is-array.ts\nfunction isArray(value) {\n  return getType(value) === \"array\";\n}\n\n// src/object/from-path.ts\nfunction fromPath(value, path) {\n  const nodes = isArray(path) ? path : path.split(\"/\");\n  return nodes.reduce((branch, node) => branch == null ? void 0 : branch[node], value);\n}\n\n// src/object/to-path.ts\nfunction toPath(nodes) {\n  return nodes.reduceRight((path, node) => {\n    const nodeStr = node.toString();\n    const segment = isNaN(parseInt(nodeStr, 10)) ? `/${node.toString()}` : `[${node.toString()}]`;\n    return segment + path.toString();\n  }, \"\").toString();\n}\n\n// src/type/is-object.ts\nfunction isObject(value) {\n  return getType(value) === \"object\";\n}\n\n// src/type/is-nil.ts\nfunction isNil(value) {\n  return value == null;\n}\nexport {\n  clone,\n  fromPath,\n  getType,\n  isArray,\n  isNil,\n  isObject,\n  lock,\n  omit,\n  overwrite,\n  toPath\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/event-emitter.ts\nvar EventEmitter = class {\n  constructor() {\n    this.listeners = {};\n  }\n  on(event, handler) {\n    if (!this.listeners[event]) {\n      this.listeners[event] = [];\n    }\n    this.listeners[event].push(handler);\n    return {\n      dispose: () => this.off(event, handler)\n    };\n  }\n  off(event, handler) {\n    const listeners = this.listeners[event];\n    if (!listeners) {\n      return;\n    }\n    this.listeners[event] = listeners.filter((listener) => listener !== handler);\n    if (this.listeners[event].length === 0) {\n      delete this.listeners[event];\n    }\n  }\n  once(event, handler) {\n    const callback = (payload) => {\n      handler(payload);\n      this.off(event, callback);\n    };\n    return this.on(event, callback);\n  }\n  emit(event, payload) {\n    const handlers = this.listeners[event];\n    if (!handlers) {\n      return;\n    }\n    handlers.forEach((handler) => handler(payload));\n  }\n};\nvar event_emitter_default = new EventEmitter();\n\n// src/constants.ts\nimport {\n  clone\n} from \"@harlem/utilities\";\nvar SENDER = \"core\";\nvar EVENTS = {\n  core: {\n    installed: \"core:installed\"\n  },\n  store: {\n    created: \"store:created\",\n    destroyed: \"store:destroyed\"\n  },\n  mutation: {\n    before: \"mutation:before\",\n    after: \"mutation:after\",\n    success: \"mutation:success\",\n    error: \"mutation:error\"\n  },\n  devtools: {\n    update: \"devtools:update\"\n  }\n};\nvar PROVIDERS = {\n  read: (value) => value,\n  write: (value) => value,\n  payload: (value) => clone(value)\n};\nvar INTERNAL = {\n  prefix: \"$harlem:\",\n  pattern: /^\\$harlem:/\n};\n\n// src/store.ts\nimport {\n  reactive,\n  readonly,\n  computed,\n  effectScope\n} from \"vue\";\nfunction localiseHandler(name, handler) {\n  return (payload) => {\n    if (payload && payload.store === name) {\n      handler(payload);\n    }\n  };\n}\nvar Store = class {\n  constructor(name, state, options) {\n    this.options = __spreadProps(__spreadValues({\n      allowOverwrite: true\n    }, options), {\n      providers: __spreadValues(__spreadValues({}, PROVIDERS), options == null ? void 0 : options.providers)\n    });\n    this.name = name;\n    this.registrations = {};\n    this.stack = /* @__PURE__ */ new Set();\n    this.isSuppressing = false;\n    this.scope = effectScope();\n    this.writeState = reactive(state);\n    this.readState = readonly(this.writeState);\n  }\n  get allowsOverwrite() {\n    return this.options.allowOverwrite;\n  }\n  get providers() {\n    return __spreadValues(__spreadValues({}, PROVIDERS), this.options.providers);\n  }\n  get state() {\n    var _a;\n    return (_a = this.providers.read(this.readState)) != null ? _a : this.readState;\n  }\n  emit(event, sender, data) {\n    if (!this.scope.active || this.isSuppressing) {\n      return;\n    }\n    const payload = {\n      data,\n      sender,\n      store: this.name\n    };\n    event_emitter_default.emit(event, payload);\n  }\n  on(event, handler) {\n    return event_emitter_default.on(event, localiseHandler(this.name, handler));\n  }\n  once(event, handler) {\n    return event_emitter_default.once(event, localiseHandler(this.name, handler));\n  }\n  provider(key, value) {\n    this.options.providers[key] = value;\n  }\n  track(callback) {\n    return this.scope.run(callback);\n  }\n  hasRegistration(group, name) {\n    var _a;\n    return !!((_a = this.registrations[group]) == null ? void 0 : _a.has(name));\n  }\n  getRegistration(group, name) {\n    var _a;\n    return (_a = this.registrations[group]) == null ? void 0 : _a.get(name);\n  }\n  register(group, name, producer, type = \"other\") {\n    if (!(group in this.registrations)) {\n      this.registrations[group] = /* @__PURE__ */ new Map();\n    }\n    if (!this.allowsOverwrite && this.hasRegistration(group, name)) {\n      throw new Error(`A ${group} named ${name} has already been registered on this store`);\n    }\n    this.registrations[group].set(name, {\n      type,\n      producer\n    });\n  }\n  unregister(group, name) {\n    var _a;\n    (_a = this.registrations[group]) == null ? void 0 : _a.delete(name);\n  }\n  suppress(callback) {\n    this.isSuppressing = true;\n    try {\n      return callback();\n    } finally {\n      this.isSuppressing = false;\n    }\n  }\n  getter(name, getter) {\n    const output = this.track(() => computed(() => getter(this.state)));\n    this.register(\"getters\", name, () => output.value, \"computed\");\n    return output;\n  }\n  mutate(name, sender, mutator, payload) {\n    var _a, _b;\n    if (!this.scope.active) {\n      throw new Error(\"The current store has been destroyed. Mutations can no longer take place.\");\n    }\n    if (this.stack.has(name)) {\n      throw new Error(\"Circular mutation reference detected. Avoid calling mutations inside other mutations to prevent circular references.\");\n    }\n    this.stack.add(name);\n    let result;\n    const emit = (event) => this.emit(event, sender, {\n      mutation: name,\n      payload,\n      result\n    });\n    emit(EVENTS.mutation.before);\n    try {\n      const providedState = (_a = this.providers.write(this.writeState)) != null ? _a : this.writeState;\n      const providedPayload = (_b = this.providers.payload(payload)) != null ? _b : payload;\n      result = mutator(providedState, providedPayload);\n      emit(EVENTS.mutation.success);\n    } catch (error) {\n      emit(EVENTS.mutation.error);\n      throw error;\n    } finally {\n      this.stack.delete(name);\n      emit(EVENTS.mutation.after);\n    }\n    return result;\n  }\n  mutation(name, mutator) {\n    const mutation = (payload) => {\n      return this.mutate(name, SENDER, mutator, payload);\n    };\n    this.register(\"mutations\", name, () => mutation);\n    return mutation;\n  }\n  write(name, sender, mutator, suppress) {\n    const mutation = () => this.mutate(name, sender, mutator, void 0);\n    return (suppress ? () => this.suppress(mutation) : mutation)();\n  }\n  destroy() {\n    this.scope.stop();\n  }\n};\n\n// src/index.ts\nimport {\n  lock\n} from \"@harlem/utilities\";\nvar stores = /* @__PURE__ */ new Map();\nvar installed = false;\nfunction validateStoreCreation(name) {\n  const store = stores.get(name);\n  if (store && !store.allowsOverwrite) {\n    throw new Error(`A store named ${name} has already been registered.`);\n  }\n}\nfunction emitCreated(store, state) {\n  const created = () => {\n    store.emit(EVENTS.store.created, SENDER, state);\n    store.emit(EVENTS.devtools.update, SENDER, state);\n  };\n  if (installed) {\n    return created();\n  }\n  event_emitter_default.once(EVENTS.core.installed, created);\n}\nfunction getExtendedStore(store, extensions) {\n  return extensions.reduce((output, extension) => {\n    let result = {};\n    try {\n      result = extension(store) || {};\n    } catch (e) {\n      result = {};\n    }\n    return __spreadValues(__spreadValues({}, output), result);\n  }, {});\n}\nfunction installPlugin(plugin, app) {\n  if (!plugin || typeof plugin.install !== \"function\") {\n    return;\n  }\n  const {\n    name,\n    install\n  } = plugin;\n  const lockedStores = lock(stores, [\n    \"set\",\n    \"delete\",\n    \"clear\"\n  ]);\n  try {\n    install(app, event_emitter_default, lockedStores);\n  } catch (error) {\n    console.warn(`Failed to install Harlem plugin: ${name}. Skipping.`);\n  }\n}\nvar on = event_emitter_default.on.bind(event_emitter_default);\nvar once = event_emitter_default.once.bind(event_emitter_default);\nfunction createStore(name, state, options) {\n  const {\n    allowOverwrite,\n    providers,\n    extensions\n  } = __spreadValues({\n    allowOverwrite: true,\n    extensions: [(store2) => ({})]\n  }, options);\n  validateStoreCreation(name);\n  const store = new Store(name, state, {\n    allowOverwrite,\n    providers\n  });\n  const destroy = () => {\n    stores.delete(name);\n    store.destroy();\n    store.emit(EVENTS.store.destroyed, SENDER, state);\n    store.emit(EVENTS.devtools.update, SENDER, state);\n  };\n  const getMutationTrigger = (eventName) => {\n    return (mutationName, handler) => {\n      const mutations = [].concat(mutationName);\n      return store.on(eventName, (event) => {\n        if (event && mutations.includes(event.data.mutation)) {\n          handler(event.data);\n        }\n      });\n    };\n  };\n  const onBeforeMutation = getMutationTrigger(EVENTS.mutation.before);\n  const onAfterMutation = getMutationTrigger(EVENTS.mutation.after);\n  const onMutationSuccess = getMutationTrigger(EVENTS.mutation.success);\n  const onMutationError = getMutationTrigger(EVENTS.mutation.error);\n  const extendedStore = getExtendedStore(store, extensions);\n  stores.set(name, store);\n  emitCreated(store, state);\n  return __spreadValues({\n    destroy,\n    onBeforeMutation,\n    onAfterMutation,\n    onMutationSuccess,\n    onMutationError,\n    state: store.state,\n    getter: store.getter.bind(store),\n    mutation: store.mutation.bind(store),\n    suppress: store.suppress.bind(store),\n    on: store.on.bind(store),\n    once: store.once.bind(store)\n  }, extendedStore);\n}\nvar src_default = {\n  install(app, options) {\n    const {\n      plugins\n    } = __spreadValues({\n      plugins: []\n    }, options);\n    if (plugins) {\n      plugins.forEach((plugin) => installPlugin(plugin, app));\n    }\n    installed = true;\n    event_emitter_default.emit(EVENTS.core.installed);\n  }\n};\nexport {\n  EVENTS,\n  INTERNAL,\n  createStore,\n  src_default as default,\n  on,\n  once\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/index.ts\nimport Task from \"@harlem/task\";\n\n// src/constants.ts\nimport {\n  INTERNAL\n} from \"@harlem/core\";\nvar SENDER = \"extension:action\";\nvar STATE_PROP = `${INTERNAL.prefix}actions`;\nvar EVENTS = {\n  action: {\n    before: \"action:before\",\n    after: \"action:after\",\n    success: \"action:success\",\n    error: \"action:error\"\n  }\n};\n\n// src/index.ts\nimport {\n  watchEffect\n} from \"vue\";\n\n// src/errors.ts\nvar ActionAbortError = class extends Error {\n  constructor(name, instanceId) {\n    super(`Action ${name} as been cancelled`);\n    this.name = name;\n    this.instanceId = instanceId;\n  }\n};\n\n// src/index.ts\nfunction actionsExtension() {\n  return (store) => {\n    const _store = store;\n    const actionTasks = /* @__PURE__ */ new Map();\n    _store.write(\"$action-init\", SENDER, (state) => state[STATE_PROP] = {}, true);\n    function setActionState(state, name) {\n      state[STATE_PROP][name] = {\n        runCount: 0,\n        instances: /* @__PURE__ */ new Map(),\n        errors: /* @__PURE__ */ new Map()\n      };\n    }\n    function registerAction(name) {\n      _store.register(\"actions\", name, () => () => {\n      });\n      _store.write(\"$action-register\", SENDER, (state) => setActionState(state, name), true);\n      const tasks = /* @__PURE__ */ new Set();\n      actionTasks.set(name, tasks);\n      return {\n        tasks\n      };\n    }\n    function incrementRunCount(name) {\n      _store.write(\"$action-increment-run-count\", SENDER, (state) => state[STATE_PROP][name].runCount += 1);\n    }\n    function addInstance(name, instanceId, payload) {\n      _store.write(\"$action-add-instance\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.instances.set(instanceId, payload);\n      });\n    }\n    function removeInstance(name, instanceId) {\n      _store.write(\"$action-remove-instance\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.instances.delete(instanceId);\n      });\n    }\n    function addError(name, instanceId, error) {\n      _store.write(\"$action-add-error\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.errors.set(instanceId, error);\n      });\n    }\n    function clearErrors(name) {\n      _store.write(\"$action-clear-errors\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.errors.clear();\n      });\n    }\n    function action(name, body, options) {\n      const {\n        tasks\n      } = registerAction(name);\n      const {\n        parallel,\n        autoClearErrors\n      } = __spreadValues({\n        parallel: false,\n        autoClearErrors: true\n      }, options);\n      const mutate = (mutator) => _store.write(name, SENDER, mutator);\n      return (payload, controller) => {\n        if (!parallel) {\n          abortAction(name);\n        }\n        if (autoClearErrors) {\n          clearErrors(name);\n        }\n        const task = new Task((resolve, reject, controller2, onAbort) => __async(this, null, function* () {\n          var _a;\n          const id = Symbol(name);\n          const complete = () => (tasks.delete(task), removeInstance(name, id));\n          const fail = () => reject(new ActionAbortError(name, id));\n          let result;\n          const emit = (event) => _store.emit(event, SENDER, {\n            action: name,\n            payload,\n            result\n          });\n          onAbort(() => (complete(), fail()));\n          addInstance(name, id, payload);\n          emit(EVENTS.action.before);\n          try {\n            const providedPayload = (_a = _store.providers.payload(payload)) != null ? _a : payload;\n            result = yield body(providedPayload, mutate, controller2, onAbort);\n            emit(EVENTS.action.success);\n            incrementRunCount(name);\n            resolve(result);\n          } catch (error) {\n            if (error instanceof DOMException) {\n              return fail();\n            }\n            emit(EVENTS.action.error);\n            incrementRunCount(name);\n            addError(name, id, error);\n            reject(error);\n          } finally {\n            emit(EVENTS.action.after);\n            complete();\n          }\n        }), controller);\n        tasks.add(task);\n        return task;\n      };\n    }\n    function getActionTrigger(eventName) {\n      return (actionName, handler) => {\n        const actions = [].concat(actionName);\n        return _store.on(eventName, (event) => {\n          if (event && actions.includes(event.data.action)) {\n            handler(event.data);\n          }\n        });\n      };\n    }\n    function hasActionRun(name) {\n      return _store.state[STATE_PROP][name].runCount > 0;\n    }\n    function isActionRunning(name, predicate) {\n      const {\n        instances\n      } = _store.state[STATE_PROP][name];\n      const payloads = Array.from(instances.values());\n      return instances.size > 0 && (!predicate || payloads.some((payload) => predicate(payload)));\n    }\n    function whenActionIdle(name, predicate, controller) {\n      return new Task((resolve, reject, controller2, onAbort) => {\n        const isComplete = () => !isActionRunning(name, predicate);\n        if (isComplete()) {\n          return resolve();\n        }\n        const unwatch = watchEffect(() => {\n          if (isComplete()) {\n            unwatch();\n            resolve();\n          }\n        });\n        onAbort(() => {\n          unwatch();\n          resolve();\n        });\n      }, controller);\n    }\n    function hasActionFailed(name) {\n      var _a;\n      return ((_a = _store.state[STATE_PROP][name]) == null ? void 0 : _a.errors.size) > 0;\n    }\n    function getActionErrors(name) {\n      var _a;\n      return Array.from((_a = _store.state[STATE_PROP][name]) == null ? void 0 : _a.errors.entries()).map(([id, error]) => ({\n        id,\n        error\n      }));\n    }\n    function isActionAbortError(value) {\n      return value instanceof ActionAbortError;\n    }\n    function resetActionState(name) {\n      const names = [].concat(name || Object.keys(_store.state[STATE_PROP]));\n      _store.write(\"$action-reset-state\", SENDER, (state) => names.forEach((name2) => {\n        if (name2 in state[STATE_PROP]) {\n          setActionState(state, name2);\n        }\n      }));\n    }\n    function abortAction(name) {\n      [].concat(name).forEach((name2) => {\n        const tasks = actionTasks.get(name2);\n        if (tasks && tasks.size > 0) {\n          tasks.forEach((task) => {\n            task.abort();\n            tasks.delete(task);\n          });\n        }\n      });\n    }\n    const onBeforeAction = getActionTrigger(EVENTS.action.before);\n    const onAfterAction = getActionTrigger(EVENTS.action.after);\n    const onActionSuccess = getActionTrigger(EVENTS.action.success);\n    const onActionError = getActionTrigger(EVENTS.action.error);\n    return {\n      action,\n      hasActionRun,\n      isActionRunning,\n      whenActionIdle,\n      hasActionFailed,\n      getActionErrors,\n      isActionAbortError,\n      resetActionState,\n      abortAction,\n      onBeforeAction,\n      onAfterAction,\n      onActionSuccess,\n      onActionError\n    };\n  };\n}\nexport {\n  ActionAbortError,\n  actionsExtension as default\n};\n//# sourceMappingURL=index.js.map","// src/constants.ts\nvar SENDER = \"extension:compose\";\n\n// src/index.ts\nimport {\n  computed\n} from \"vue\";\nimport {\n  fromPath,\n  toPath,\n  isNil\n} from \"@harlem/utilities\";\nfunction traceObjectPath(onAccess) {\n  return new Proxy({}, {\n    get(target, key) {\n      onAccess(key);\n      return traceObjectPath(onAccess);\n    }\n  });\n}\nfunction getTraceObject() {\n  const nodes = /* @__PURE__ */ new Set();\n  const value = traceObjectPath((key) => nodes.add(key));\n  const getNodes = () => Array.from(nodes);\n  const resetNodes = () => nodes.clear();\n  return {\n    value,\n    getNodes,\n    resetNodes\n  };\n}\nfunction composeExtension() {\n  return (store) => {\n    const {\n      value,\n      getNodes,\n      resetNodes\n    } = getTraceObject();\n    function useState(accessor, mutationName) {\n      accessor(value);\n      const nodes = getNodes();\n      const name = mutationName || `compose:${toPath([\"root\", ...nodes])}`;\n      const key = nodes.pop();\n      const parent = (state) => fromPath(state, nodes);\n      resetNodes();\n      if (isNil(key)) {\n        throw new Error(\"A valid property must be used\");\n      }\n      const getter = () => parent(store.state)[key];\n      const setter = (value2) => store.write(name, SENDER, (state) => {\n        parent(state)[key] = value2;\n      });\n      return [\n        getter,\n        setter\n      ];\n    }\n    function computeState(accessor, mutationName) {\n      const [\n        getter,\n        setter\n      ] = useState(accessor, mutationName);\n      return computed({\n        get: () => getter(),\n        set: (value2) => setter(value2)\n      });\n    }\n    return {\n      useState,\n      computeState\n    };\n  };\n}\nexport {\n  composeExtension as default\n};\n//# sourceMappingURL=index.js.map","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/constants.ts\nvar SENDER = \"extension:storage\";\n\n// src/index.ts\nimport {\n  EVENTS,\n  INTERNAL\n} from \"@harlem/core\";\nimport {\n  omit\n} from \"@harlem/utilities\";\nfunction storageExtension(options) {\n  const {\n    type,\n    prefix,\n    sync,\n    restore,\n    exclude,\n    serialiser,\n    parser\n  } = __spreadValues({\n    type: \"local\",\n    prefix: \"harlem\",\n    sync: true,\n    restore: false,\n    exclude: [],\n    serialiser: (state) => JSON.stringify(state),\n    parser: (value) => JSON.parse(value)\n  }, options);\n  const storage = type === \"session\" ? sessionStorage : localStorage;\n  return (store) => {\n    const storageKey = prefix ? `${prefix}:${store.name}` : store.name;\n    store.on(EVENTS.mutation.success, (event) => {\n      if (!event || event.data.mutation === \"$storage\" || exclude.includes(event.data.mutation)) {\n        return;\n      }\n      try {\n        const state = omit(store.state, INTERNAL.pattern);\n        storage.setItem(storageKey, serialiser(state));\n      } catch (e) {\n        console.warn(\"Failed to write to storage\");\n      }\n    });\n    function listener({ key, storageArea, newValue }) {\n      if (storageArea === storage && key === storageKey && newValue) {\n        store.write(\"$storage\", SENDER, (state) => Object.assign(state, parser(newValue)));\n      }\n    }\n    function startStorageSync() {\n      window.addEventListener(\"storage\", listener);\n    }\n    function stopStorageSync() {\n      window.removeEventListener(\"storage\", listener);\n    }\n    function clearStorage() {\n      storage.removeItem(storageKey);\n    }\n    function restoreStorage() {\n      store.write(\"$storage\", SENDER, (state) => Object.assign(state, parser(storage.getItem(storageKey))));\n    }\n    store.once(EVENTS.store.destroyed, () => stopStorageSync());\n    if (sync) {\n      startStorageSync();\n    }\n    if (restore) {\n      restoreStorage();\n    }\n    return {\n      startStorageSync,\n      stopStorageSync,\n      clearStorage,\n      restoreStorage\n    };\n  };\n}\nexport {\n  storageExtension as default\n};\n//# sourceMappingURL=index.js.map","import getState from './state';\nimport actionExtension from '@harlem/extension-action';\nimport composeExtension from '@harlem/extension-compose';\nimport storageExtension from '@harlem/extension-storage';\n\nimport {\n    NAME,\n    MUTATIONS,\n} from './constants';\n\nimport {\n    createStore,\n} from '@harlem/core';\n\nexport const {\n    state,\n    getter,\n    mutation,\n    action,\n    isActionRunning,\n    computeState,\n} = createStore(NAME, getState(), {\n    extensions: [\n        actionExtension(),\n        composeExtension(),\n        storageExtension({\n            exclude: [\n                MUTATIONS.updateTime,\n            ],\n        }),\n    ],\n});","import {\n    MUTATIONS,\n} from './constants';\n\nimport {\n    mutation,\n} from './store';\n\nimport type {\n    ClockType,\n    Theme,\n} from './types';\n\nexport const setTheme = mutation(MUTATIONS.setTheme, (state, theme: Theme) => state.theme = theme);\nexport const updateTime = mutation(MUTATIONS.updateTime, state => state.time = new Date());\nexport const setClockType = mutation(MUTATIONS.setClockType, (state, type: ClockType) => state.clockType = type);\nexport const addClocks = mutation(MUTATIONS.addClocks, (state, timezones: string | string[]) => state.clocks = state.clocks.concat(timezones));\nexport const removeClock = mutation(MUTATIONS.removeClock, (state, timezone: string) => state.clocks = state.clocks.filter(tz => tz !== timezone));","import {\n    GETTERS,\n} from './constants';\n\nimport {\n    getter,\n} from './store';\n\nimport {\n    utcToZonedTime,\n} from 'date-fns-tz';\n\nexport const timezones = getter(GETTERS.timezones, ({ timezones, clocks }) => {\n    const output = timezones\n        .flatMap(({ utc }) => utc)\n        .filter(timezone => !clocks.includes(timezone))\n        .sort((a, b) => a.localeCompare(b));\n\n    return Array.from(new Set(output));\n});\n\nexport const clocks = getter(GETTERS.clocks, ({ clocks, time }) => {\n    return clocks.map(timezone => ({\n        timezone,\n        time: utcToZonedTime(time, timezone),\n    }));\n});","const scriptRel = 'modulepreload';const seen = {};const base = '/harlem/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","import {\n    ACTIONS,\n} from './constants';\n\nimport {\n    action,\n} from './store';\n\nexport const loadTimezones = action(ACTIONS.loadTimezones, async (_, mutate) => {\n    const {\n        default: timezones,\n    } = await import('../../assets/data/timezones.json');\n\n    mutate(state => state.timezones = timezones);\n});","import {\n    updateTime,\n} from './mutations';\n\nexport {\n    state,\n    isActionRunning,\n    computeState,\n} from './store';\n\nexport * from './getters';\nexport * from './mutations';\nexport * from './actions';\nexport * from './types';\n\nsetInterval(() => updateTime(), 1000);","<template>\n    <modal class=\"add-clock-modal\" ref=\"modal\">\n        <template #header>\n            <h2 class=\"add-clock-modal__title\">Add Clock</h2>\n        </template>\n        <label class=\"form-label\" for=\"\">Timezone</label>\n        <input class=\"add-clock-modal__filter\" v-model=\"model.filter\" type=\"text\" placeholder=\"Search for a timezone...\" autofocus>\n        <select class=\"add-clock-modal__timezones\" v-model=\"model.selection\" multiple=\"true\">\n            <option v-for=\"timezone in filteredTimezones\" :key=\"timezone\" :value=\"timezone\">{{ getTimezoneLabel(timezone) }}</option>\n        </select>\n        <div class=\"add-clock-modal__tip\">\n            <meta-text>\n                <strong>Tip:</strong> select multiple timezones by holding ctrl/cmd when clicking an item\n            </meta-text>\n        </div>\n        <template #footer=\"{ close }\">\n            <div class=\"add-clock-modal__actions\" layout=\"row center-right\">\n                <button class=\"button\" @click=\"close()\">Cancel</button>\n                <button class=\"button button--primary\" :disabled=\"!canComplete\" @click=\"complete()\">Add {{ model.selection.length }} Clocks</button>\n            </div>\n        </template>\n    </modal>\n</template>\n\n<script lang=\"ts\" setup>\nimport Modal from '../core/modal.vue';\nimport MetaText from '../core/meta-text.vue';\n\nimport isEqual from '../../utilities/string/is-equal';\nimport getTimezoneLabel from '../../utilities/time/get-timezone-label';\n\nimport {\n    computed,\n    reactive,\n    ref\n} from 'vue';\n\nimport {\n    addClocks,\n    timezones\n} from '../../stores/app';\n\nconst modal = ref();\n\nconst model = reactive({\n    filter: '',\n    selection: [] as string[]\n});\n\nconst filteredTimezones = computed(() => {\n    return timezones.value.filter(timezone => isEqual(timezone, model.filter));\n});\n\nconst canComplete = computed(() => model.selection.length > 0);\n\nfunction reset() {\n    model.filter = '';\n    model.selection = [];\n}\n\nfunction complete() {\n    if (model.selection.length === 0) {\n        return;\n    }\n\n    addClocks(model.selection);\n\n    modal.value.close();\n}\n\ndefineExpose({\n    open: () => (reset(), modal.value.open()),\n    close: () => modal.value.close(),\n});\n</script>\n\n<style lang=\"scss\">\n\n    .add-clock-modal__title {\n        margin: 0;\n    }\n\n    .add-clock-modal__filter,\n    .add-clock-modal__timezones {\n        display: block;\n        width: 100%;\n    }\n\n    .add-clock-modal__filter {\n        margin-bottom: 1rem;\n    }\n\n    .add-clock-modal__tip {\n        margin: 1rem 0;\n    }\n\n    .add-clock-modal__actions {\n\n        & .button {\n            margin-left: 1rem;\n        }\n    }\n\n</style>","<template>\n    <div class=\"app\">\n        <container>\n            <header class=\"app__header\">\n                <a href=\"https://harlemjs.com\" target=\"_blank\">\n                    <img class=\"app__logo\" src=\"/images/logo-192.svg\" alt=\"Harlem\">\n                </a>\n                <h1 class=\"app__title\">Harlem</h1>\n                <p class=\"app__intro\">\n                    This world clock application is a basic demonstration of some of the core features of Harlem.\n                    <br>\n                    <br>\n                    Each clock is synchronised by a single time value stored on <strong>state</strong>. A timer is set to run a <strong>mutation</strong> each second to update the stored time. A <strong>getter</strong> then recalculates each clock's time based on it's timezone. State is synchronised with localStorage using the <strong>storage extension</strong>. Open this URL in multiple tabs to see your changes synced across tabs.\n                    <br>\n                    <br>\n                    If you have the Vue <strong>devtools</strong> installed, open them up and change the inspector to Harlem to see the store. The source code for this demo is available <a href=\"https://github.com/andrewcourtice/harlem/tree/main/app\" target=\"_blank\">here</a>. \n                </p>\n                <choice-group class=\"app__theme\">\n                    <choice v-for=\"{ label, value } in state.themes\" :key=\"value\" :id=\"value\" :value=\"value\" v-model=\"theme\">{{ label }}</choice>\n                </choice-group>\n            </header>\n            <div class=\"app__options\" layout=\"rows center-justify\">\n                <choice-group self=\"sm-full\">\n                    <choice v-for=\"{ label, value } in state.clockTypes\" :key=\"value\" :id=\"value\" :value=\"value\" v-model=\"clockType\">{{ label }}</choice>\n                </choice-group>\n                <button class=\"button button--primary\" self=\"sm-full\" @click=\"openAddClockModal()\">Add Clock</button>\n            </div>\n            <div class=\"app__clocks\">\n                <transition-group name=\"clocks\">\n                    <div class=\"app__clock\" v-for=\"{ time, timezone } in clocks\" :key=\"timezone\">\n                        <component :is=\"clockComponent\" :time=\"time\"></component>\n                        <div class=\"app__clock-label\">\n                            <div class=\"app__clock-timezone\">{{ getTimezoneLabel(timezone) }}</div>\n                            <div class=\"app__clock-date\">{{ getClockDateLabel(time, timezone) }}</div>\n                        </div>\n                        <div class=\"app__clock-shade\" layout=\"row bottom-stretch\">\n                            <button class=\"button button--alert\" @click=\"removeClock(timezone)\">Remove</button>\n                        </div>\n                    </div>\n                </transition-group>\n            </div>\n            <footer class=\"app__footer\">\n                <meta-text>MIT Licensed | Copyright  2020-present Andrew Courtice</meta-text>\n            </footer>\n        </container>\n        <add-clock-modal ref=\"addClockModal\"></add-clock-modal>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport Container from './components/core/container.vue';\nimport ChoiceGroup from './components/core/choice-group.vue';\nimport Choice from './components/core/choice.vue';\nimport MetaText from './components/core/meta-text.vue';\nimport AnalogueClock from './components/clocks/analogue-clock.vue';\nimport DigitalClock from './components/clocks/digital-clock.vue';\nimport AddClockModal from './components/modals/add-clock.vue'\n\nimport getTimezoneLabel from './utilities/time/get-timezone-label';\n\nimport {\n    computed,\n    ref,\n    watchEffect,\n} from 'vue';\n\nimport {\n    format,\n} from 'date-fns-tz';\n\nimport {\n    state,\n    clocks,\n    removeClock,\n    loadTimezones,\n    computeState,\n} from './stores/app';\n\nloadTimezones();\n\nwatchEffect(() => document.body.setAttribute('theme', state.theme.toLowerCase()));\n\nconst addClockModal = ref();\n\nconst theme = computeState(state => state.theme);\nconst clockType = computeState(state => state.clockType);\n\nconst clockComponent = computed(() => state.clockType === 'analogue'\n    ? AnalogueClock\n    : DigitalClock\n);\n\nfunction getClockDateLabel(time: Date, timezone: string) {\n    return format(time, 'EEE, do MMM yyyy', {\n        timeZone: timezone\n    });\n}\n\nfunction openAddClockModal() {\n    addClockModal.value.open();\n}\n</script>\n\n<style lang=\"scss\">\n\n    .app {\n        padding: 0 2rem;\n    }\n\n    .app__header,\n    .app__footer {\n        padding: 2rem 0;\n        text-align: center;\n    }\n\n    .app__header {\n        border-bottom: 1px solid var(--border__colour);\n    }\n\n    .app__logo {\n        width: 64px;\n    }\n\n    .app__title {\n        margin: 1rem 0;\n        font-family: 'Pacifico', cursive;\n        font-weight: 400;\n        text-align: center;\n    }\n\n    .app__theme {\n        margin-top: 2rem;\n    }\n\n    .app__options {\n        margin: 2rem 0;\n        gap: 1rem;\n    }\n\n    .app__clocks {\n        display: grid;\n        gap: 2rem;\n        grid-template-columns: repeat(auto-fill, minmax(196px, 1fr));\n        grid-auto-rows: minmax(128px, 1fr);\n        justify-items: stretch;\n        align-items: stretch;\n    }\n    \n    .app__clock {\n        position: relative;\n        padding: 1.5rem;\n        text-align: center;\n        background-color: var(--foreground__colour);\n        border-radius: 1.5rem;\n        overflow: hidden;\n\n        &:hover {\n\n            & .app__clock-shade {\n                display: flex;\n                animation: clock-shade var(--animation__timing) var(--animation__easing)\n            }\n        }\n    }\n\n    .app__clock-label {\n        margin-top: 1.5rem;\n    }\n    \n    .app__clock-timezone {\n        font-weight: var(--font__weight--semi-bold);\n    }\n\n    .app__clock-date {\n        margin-top: 0.25rem;\n        font-size: var(--font__size--meta);\n        color: var(--font__colour--meta)\n    }\n\n    .app__clock-shade {\n        display: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        padding: 1.5rem;\n        background-color: var(--background__colour--shade);\n    }\n\n    .clocks-enter-from,\n    .clocks-leave-to {\n        opacity: 0;\n        transform: scale(0);\n    }\n\n    .clocks-enter-active,\n    .clocks-leave-active {\n        transition: opacity var(--animation__timing) var(--animation__easing),\n                    transform var(--animation__timing) var(--animation__easing);\n                }\n                \n    .clocks-move {\n        transition: transform var(--animation__timing) var(--animation__easing);\n    }\n\n    @keyframes clock-shade {\n\n        from {\n            opacity: 0;\n        }\n\n        to {\n            opacity: 1;\n        }\n\n    }\n\n</style>","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/constants.ts\nvar SENDER = \"plugin:devtools\";\nvar DEVTOOLS_ID = \"harlem\";\nvar ALL_STORES_ID = \"$all\";\nvar OPTIONS = {\n  label: \"Harlem\",\n  color: 4244621\n};\n\n// src/index.ts\nimport {\n  EVENTS,\n  INTERNAL\n} from \"@harlem/core\";\nimport {\n  omit\n} from \"@harlem/utilities\";\nimport {\n  setupDevtoolsPlugin\n} from \"@vue/devtools-api\";\nfunction stringComparitor(valueA, valueB) {\n  return valueA.localeCompare(valueB);\n}\nfunction getInspectorTreeHook(application, stores) {\n  return (payload) => {\n    const {\n      app,\n      inspectorId\n    } = payload;\n    if (app !== application || inspectorId !== DEVTOOLS_ID || stores.size === 0) {\n      return;\n    }\n    const children = Array.from(stores.keys()).sort(stringComparitor).map((name) => ({\n      id: name,\n      label: name\n    }));\n    payload.rootNodes = [\n      {\n        children,\n        id: ALL_STORES_ID,\n        label: \"Stores\"\n      }\n    ];\n  };\n}\nfunction getStoreSnapshot(store) {\n  return Object.entries(store.registrations).reduce((output, [type, registrations]) => {\n    output[type] = Array.from(registrations).sort(([a], [b]) => stringComparitor(a, b)).map(([key, { type: type2, producer }]) => ({\n      key,\n      value: producer(),\n      editable: false,\n      objectType: type2\n    }));\n    return output;\n  }, {\n    state: [\n      {\n        key: store.name,\n        value: omit(store.state, INTERNAL.pattern),\n        editable: true,\n        objectType: \"reactive\"\n      }\n    ]\n  });\n}\nfunction getStoreSnapshots(stores) {\n  return stores.reduce((output, store) => {\n    if (!store) {\n      return output;\n    }\n    const snapshot = getStoreSnapshot(store);\n    return Object.entries(snapshot).reduce((merges, [key, value]) => {\n      merges[key] = (merges[key] || []).concat(value);\n      return merges;\n    }, {});\n  }, {});\n}\nfunction getInspectorStateHook(application, stores) {\n  return (payload) => {\n    const {\n      app,\n      inspectorId,\n      nodeId\n    } = payload;\n    if (app !== application || inspectorId !== DEVTOOLS_ID || stores.size === 0) {\n      return;\n    }\n    let internalStores = [stores.get(nodeId) || stores.values().next().value];\n    if (nodeId === ALL_STORES_ID) {\n      internalStores = Array.from(stores.values());\n    }\n    if (internalStores.length > 0) {\n      payload.state = getStoreSnapshots(internalStores);\n    }\n  };\n}\nfunction getInspectorEditHook(application, stores) {\n  return (payload) => {\n    const {\n      app,\n      inspectorId,\n      nodeId,\n      path,\n      state,\n      set\n    } = payload;\n    if (app !== application || inspectorId !== DEVTOOLS_ID || stores.size === 0) {\n      return;\n    }\n    const root = path.shift();\n    const storeId = nodeId === ALL_STORES_ID ? root || nodeId : nodeId;\n    const store = stores.get(storeId);\n    if (!store) {\n      return;\n    }\n    store.write(\"plugin:devtools:set\", SENDER, (_state) => set(_state, path, state.value));\n  };\n}\nfunction getMutationHook(api, logType) {\n  return (payload) => {\n    if (!payload) {\n      return;\n    }\n    const {\n      store\n    } = payload;\n    api.sendInspectorState(DEVTOOLS_ID);\n    api.addTimelineEvent({\n      layerId: DEVTOOLS_ID,\n      event: {\n        logType,\n        title: \"Mutation\",\n        subtitle: store,\n        groupId: store,\n        time: Date.now(),\n        data: payload,\n        meta: {\n          store\n        }\n      }\n    });\n  };\n}\nfunction createDevtoolsPlugin(options = OPTIONS) {\n  const {\n    label,\n    color\n  } = __spreadValues(__spreadValues({}, OPTIONS), options);\n  return {\n    name: \"devtools\",\n    install(app, eventEmitter, stores) {\n      const inspectorTreeHook = getInspectorTreeHook(app, stores);\n      const inspectorStateHook = getInspectorStateHook(app, stores);\n      const inspectorEditHook = getInspectorEditHook(app, stores);\n      const descriptor = {\n        app,\n        label,\n        id: DEVTOOLS_ID,\n        logo: \"https://harlemjs.com/assets/images/favicon.png\",\n        homepage: \"https://harlemjs.com\",\n        packageName: \"@harlem/plugin-devtools\"\n      };\n      setupDevtoolsPlugin(descriptor, (api) => {\n        const successMutationHook = getMutationHook(api);\n        const errorMutationHook = getMutationHook(api, \"error\");\n        api.addInspector({\n          label,\n          id: DEVTOOLS_ID,\n          icon: \"source\",\n          treeFilterPlaceholder: \"Search stores\"\n        });\n        api.addTimelineLayer({\n          label,\n          color,\n          id: DEVTOOLS_ID,\n          skipScreenshots: true\n        });\n        api.on.getInspectorTree(inspectorTreeHook);\n        api.on.getInspectorState(inspectorStateHook);\n        api.on.editInspectorState(inspectorEditHook);\n        eventEmitter.on(EVENTS.mutation.success, successMutationHook);\n        eventEmitter.on(EVENTS.mutation.error, errorMutationHook);\n        eventEmitter.on(EVENTS.devtools.update, () => {\n          api.sendInspectorTree(DEVTOOLS_ID);\n          api.sendInspectorState(DEVTOOLS_ID);\n        });\n      });\n    }\n  };\n}\nexport {\n  createDevtoolsPlugin as default\n};\n//# sourceMappingURL=index.js.map","import 'flex-layout-attribute';\nimport './assets/styles/index.scss';\n\nimport App from './app.vue';\n\nimport Harlem from '@harlem/core';\n\nimport devtoolsPlugin from '@harlem/plugin-devtools';\n\nimport {\n    createApp,\n} from 'vue';\n\nfunction start() {\n    return createApp(App)\n        .use(Harlem, {\n            plugins: [\n                devtoolsPlugin(),\n            ],\n        })\n        .mount('body');\n}\n\nstart();"],"names":["__defProp","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","SENDER","EVENTS","actionExtension","AnalogueClock","DigitalClock","App","Harlem","devtoolsPlugin"],"mappings":"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"}